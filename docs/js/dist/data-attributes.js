var Attv,__extends=this&&this.__extends||function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};return function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();!function(i){var n,t,r,e,a=(n=i.Attribute,__extends(u,n),u.prototype.getUrl=function(t){var e,n=this.getValue(t),a=n.getRaw(t),r=n.resolver.resolve(h.UniqueId).getMethod(t);return"get"===r&&(e=n.resolver.resolve(k.UniqueId).getData(t),a=i.Ajax.buildUrl({url:a,method:r,data:e})),n.resolver.resolve(g.UniqueId).useCache(t)||(a.contains("?")?a+="&_="+Date.now():a+="?_="+Date.now()),a},u.UniqueId="DataUrl",u);function u(t){var e=n.call(this,u.UniqueId,t)||this;return e.dependency.requires.push(h.UniqueId,k.UniqueId,g.UniqueId),e}function o(t){return r.call(this,void 0,t)||this}i.DataUrl=a,t=i.DataUrl||(i.DataUrl={}),r=i.Attribute.Value,__extends(o,r),o.prototype.getRaw=function(t){var e,n,a=r.prototype.getRaw.call(this,t);return!a&&null!==(e=null==t?void 0:t.tagName)&&void 0!==e&&e.equalsIgnoreCase("form")&&(a=t.attr("action")),!a&&null!==(n=null==t?void 0:t.tagName)&&void 0!==n&&n.equalsIgnoreCase("a")&&(a=t.attr("href")),a},e=o,t.DefaultValue=e;var l,s,d,c,h=(l=i.Attribute,__extends(v,l),v.prototype.getMethod=function(t){return this.getValue(t).getRaw(t)},v.UniqueId="DataMethod",v.DefaultMethod="get",v);function v(t){return l.call(this,v.UniqueId,t)||this}function f(t){return d.call(this,void 0,t)||this}i.DataMethod=h,s=h=i.DataMethod||(i.DataMethod={}),d=i.Attribute.Value,__extends(f,d),f.prototype.getRaw=function(t){var e,n=d.prototype.getRaw.call(this,t);return!n&&null!==(e=null==t?void 0:t.tagName)&&void 0!==e&&e.equalsIgnoreCase("form")&&(n=t.attr("method")),n=n||s.DefaultMethod},c=f,s.DefaultValue=c;var p,g=(p=i.Attribute,__extends(A,p),A.prototype.useCache=function(t){var e=this.getValue(t).getRaw(t);return!(!i.isUndefined(e)&&null!==e)||"true"===e},A.UniqueId="DataCache",A);function A(t){return p.call(this,A.UniqueId,t)||this}i.DataCache=g;var D,b=(D=i.Attribute,__extends(w,D),w.prototype.callback=function(t){var e=this.getValue(t).getRaw(t);return i.eval(e)},w.UniqueId="DataCallback",w);function w(t){return D.call(this,w.UniqueId,t)||this}i.DataCallback=b;var I,_=(I=i.Attribute,__extends(y,I),y.prototype.getContent=function(t){return this.getValue(t).getRaw(t)},y.UniqueId="DataContent",y);function y(t){return I.call(this,y.UniqueId,t)||this}i.DataContent=_;var q,U=(q=i.Attribute,__extends(m,q),m.prototype.getTargetElement=function(t){var e=this.getValue(t).getRaw(t);return document.querySelector(e)},m.UniqueId="DataTarget",m);function m(t){return q.call(this,m.UniqueId,t)||this}i.DataTarget=U;var R,x=(R=i.Attribute,__extends(V,R),V.prototype.timeout=function(t,e){var n=parseInt(this.getValue(t).getRaw(t));n?window.setTimeout(e,n):e()},V.UniqueId="DataTimeout",V);function V(t){return R.call(this,V.UniqueId,t)||this}i.DataTimeout=x;var C,O=(C=i.Attribute,__extends(T,C),T.prototype.interval=function(t,e){var n,a=parseInt(this.getValue(t).getRaw(t));a?(n=new T.IntervalTimer(a,e),T.step(n,a)):e()},T.step=function(t,e){null==t.start&&(t.start=e),e-t.start>t.timer&&(t.fn(),t.start=e,T.requestAnimationFrame(t)),T.requestAnimationFrame(t)},T.requestAnimationFrame=function(e){var n=this;window.requestAnimationFrame(function(t){n.step(e,t)})},T.UniqueId="DataInterval",T);function T(t){return C.call(this,T.UniqueId,t)||this}function E(t,e,n){this.timer=t,this.fn=e,this.start=n}i.DataInterval=O,(i.DataInterval||(i.DataInterval={})).IntervalTimer=E;var H,k=(H=i.Attribute,__extends(L,H),L.prototype.getData=function(t){var e=this.getValue(t).getRaw(t);return i.isEvaluatable(e)&&(e=i.eval(e)),i.parseJsonOrElse(e)},L.UniqueId="DataData",L);function L(t){return H.call(this,L.UniqueId,t)||this}i.DataData=k;var M,S=(M=i.Attribute,__extends(B,M),B.prototype.getOptions=function(t,e){var n=this.getValue(t).getRaw(t);return null!=n&&n.startsWith("{")&&null!=n&&n.endsWith("}")&&(n="("+n+")"),i.isEvaluatable(n)&&(n=i.eval(n)),i.parseJsonOrElse(n)||e||{}},B.UniqueId="DataOptions",B);function B(t){return M.call(this,B.UniqueId,t)||this}i.DataOptions=S;var j,J=(j=i.Attribute,__extends(W,j),W.prototype.getTitle=function(t){return this.getValue(t).getRaw(t)},W.UniqueId="DataTitle",W);function W(t){return j.call(this,W.UniqueId,t)||this}i.DataTitle=J;var N,F=(N=i.Attribute,__extends(P,N),P.prototype.bind=function(t,e){t.html((null==e?void 0:e.toString())||"")},P.UniqueId="DataBind",P);function P(t){return N.call(this,P.UniqueId,t)||this}i.DataBind=F;var $,z=($=i.Attribute,__extends(G,$),G.prototype.isEnabled=function(t){var e=this.getValue(t).getRaw(t);return!(null!=e&&e.equalsIgnoreCase("false"))},G.UniqueId="DataEnabled",G);function G(t){return $.call(this,G.UniqueId,t)||this}i.DataEnabled=z;var K,Q=(K=i.Attribute,__extends(X,K),X.prototype.isActive=function(t){return"true"===this.getValue(t).getRaw(t)},X.prototype.setActive=function(t,e){t.attr(this,e)},X.UniqueId="DataActive",X);function X(t){return K.call(this,X.UniqueId,t)||this}i.DataActive=Q;var Y,Z=(Y=i.Attribute,__extends(tt,Y),tt.prototype.getRoute=function(t){return this.getValue(t).getRaw(t)},tt.prototype.getLocationRoute=function(){return this.cleanHash(window.location.hash)},tt.prototype.appendHash=function(){for(var t,e=this,n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];var r=null===(t=null==n?void 0:n.map(function(t){return e.cleanHash(t)}))||void 0===t?void 0:t.join("/");return this.cleanHash(r)},tt.prototype.setRoute=function(t){i.isUndefined(t)||(window.location.hash=this.cleanHash(t))},tt.prototype.getHash=function(t){return null!=t&&t.startsWith("#")||(t="#"+t),t},tt.prototype.matches=function(t){t=this.cleanHash(t);var e=this.getLocationRoute();return!!e.startsWith(t)&&(e===t||"/"===e.substr(e.indexOf(t)+t.length,1))},tt.prototype.cleanHash=function(t){var e;return null===(e=null==t?void 0:t.replace("#",""))||void 0===e?void 0:e.replace(/\/\//,"/")},tt.UniqueId="DataRoute",tt);function tt(t){return Y.call(this,tt.UniqueId,t)||this}i.DataRoute=Z}(Attv=Attv||{}),Attv.loader.pre.push(function(){Attv.registerAttribute("data-url",function(t){return new Attv.DataUrl(t)},function(t,e){e.push(new Attv.DataUrl.DefaultValue(t))}),Attv.registerAttribute("data-method",function(t){return new Attv.DataMethod(t)},function(t,e){e.push(new Attv.DataMethod.DefaultValue(t))}),Attv.registerAttribute("data-callback",function(t){return new Attv.DataCallback(t)}),Attv.registerAttribute("data-target",function(t){return new Attv.DataTarget(t)}),Attv.registerAttribute("data-content",function(t){return new Attv.DataContent(t)}),Attv.registerAttribute("data-timeout",function(t){return new Attv.DataTimeout(t)}),Attv.registerAttribute("data-interval",function(t){return new Attv.DataInterval(t)}),Attv.registerAttribute("data-data",function(t){return new Attv.DataData(t)}),Attv.registerAttribute("data-options",function(t){return new Attv.DataOptions(t)}),Attv.registerAttribute("data-cache",function(t){return new Attv.DataCache(t)}),Attv.registerAttribute("data-title",function(t){return new Attv.DataTitle(t)}),Attv.registerAttribute("data-bind",function(t){return new Attv.DataBind(t)}),Attv.registerAttribute("data-active",function(t){return new Attv.DataActive(t)}),Attv.registerAttribute("data-enabled",function(t){return new Attv.DataEnabled(t)}),Attv.registerAttribute("data-route",function(t){return new Attv.DataRoute(t)})}),function(o){var n,t=(n=o.Attribute,__extends(a,n),a.UniqueId="DataLoading",a);function a(t){var e=n.call(this,a.UniqueId,t,!0)||this;return e.isStrict=!0,e}o.DataLoading=t,function(t){var r,e=(r=o.Attribute.Value,__extends(n,r),n.prototype.loadElement=function(t){var e,n=this.settings,a=this.resolver.resolve(o.DataOptions.UniqueId);return a.exists(t)&&(e=a.getOptions(t),t.style.borderColor=e.outerColor||n.defaultOuterColor,t.style.borderTopColor=e.innerColor||n.defaultInnerColor,t.style.height=e.width||n.defaultHeight,t.style.width=e.height||n.defaultWidth),!0},n);function n(t,e,n){var a=r.call(this,t,e,n)||this;return a.resolver.uses.push(o.DataOptions.UniqueId),a}t.DefaultAttributeValue=e;var a,i=(a=o.Attribute.Settings,__extends(u,a),u);function u(){var t=null!==a&&a.apply(this,arguments)||this;return t.isAutoLoad=!0,t.defaultOuterColor="#c0c0c0",t.defaultInnerColor="#000000",t.defaultWidth="25px",t.defaultHeight="25px",t.style="\n[data-loading='spinner'],\n[data-loading='default'] {\n    display: inline-block;\n    width: "+t.defaultWidth+";\n    height: "+t.defaultHeight+";\n    border: 3px solid "+t.defaultOuterColor+";\n    border-radius: 50%;\n    border-top-color: "+t.defaultInnerColor+";\n    animation: spin 1s ease-in-out infinite;\n    -webkit-animation: spin 1s ease-in-out infinite;\n}\n\n@keyframes spin {\nto { -webkit-transform: rotate(360deg); }\n}\n@-webkit-keyframes spin {\nto { -webkit-transform: rotate(360deg); }\n}\n",t}t.SpinnerSettings=i}(o.DataLoading||(o.DataLoading={}))}(Attv=Attv||{}),Attv.loader.pre.push(function(){Attv.registerAttribute("data-loading",function(t){return new Attv.DataLoading(t)},function(t,e){e.push(new Attv.DataLoading.DefaultAttributeValue(Attv.configuration.defaultTag,t,function(t,e){return new Attv.DataLoading.SpinnerSettings(t,e)}))})}),function(o){var e,t=(e=o.Attribute,__extends(n,e),n.prototype.render=function(t,e,n,a){return(a=a||this.getValue(n)).render(t,e)},n.UniqueId="DataRenderer",n);function n(t){return e.call(this,n.UniqueId,t)||this}o.DataRenderer=t,function(t){var n,e=(n=o.Attribute.Value,__extends(a,n),a.prototype.loadElement=function(t){return!0},a.prototype.render=function(t,e,n){return t},a);function a(t,e){return n.call(this,t,e)||this}t.DefaultValue=e;var r,i=(__extends(u,r=e),u.prototype.loadElement=function(t){return!0},u.prototype.render=function(t,e){e=o.parseJsonOrElse(e);var n=o.createHTMLElement(t),a=o.createHTMLElement("");return this.bind(a,n,e),a.html()},u.prototype.bind=function(t,e,n){for(var a=e.querySelectorAll(this.dataBind.toString()),r=0;r<a.length;r++){var i=a[r],u=i.attr(this.dataBind),o=this.getPropertyValue(u,n);if(Array.isArray(o)){var l=o,s=i.parentElement;i.remove();for(var d=0;d<l.length;d++){var c=i.cloneNode(!0);this.bind(s,c,l[d])}}else this.dataBind.bind(i,o),t.append(e)}},u.prototype.getPropertyValue=function(t,e){var n=e;if(!o.isUndefined(e)){if("$"===t||"$root"===t)n=e;else{if("$json"===t)return n=JSON.stringify(n);for(var a=t.split("."),r=0;r<a.length;r++)try{n=n[a[r]]}catch(t){}}return o.parseJsonOrElse(n)}},u);function u(t,e){void 0===t&&(t="json2html");var n=r.call(this,t,e)||this;return n.resolver.requires.push(o.DataBind.UniqueId),n.dataBind=n.resolver.resolve(o.DataBind.UniqueId),n}t.Json2HtmlValue=i}(o.DataRenderer||(o.DataRenderer={}))}(Attv=Attv||{}),Attv.loader.pre.push(function(){Attv.registerAttribute("data-renderer",function(t){return new Attv.DataRenderer(t)},function(t,e){e.push(new Attv.DataRenderer.DefaultValue(Attv.configuration.defaultTag,t)),e.push(new Attv.DataRenderer.Json2HtmlValue("json2Html",t))})});