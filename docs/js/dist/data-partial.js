var Attv,__extends=this&&this.__extends||function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};return function(t,e){function r(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();!function(a){var r,t=(r=a.Attribute,__extends(n,r),n.prototype.renderPartial=function(t,e){a.isString(t)&&(t=document.querySelector(t));var r=t;this.getValue(r).render(r,e)},n.UniqueId="DataPartial",n);function n(t){var e=r.call(this,n.UniqueId,t,!0)||this;return e.name=t,e.isStrict=!0,e.dependency.requires.push(a.DataUrl.UniqueId),e}a.DataPartial=t}(Attv=Attv||{}),function(p){!function(t){var n,e=(n=p.Attribute.Value,__extends(r,n),r.prototype.render=function(a,n,i){var o=this;n?this.doRender(a,n,i):((i=i||{}).url=this.resolver.resolve(p.DataUrl.UniqueId).getUrl(a),i.method=this.resolver.resolve(p.DataMethod.UniqueId).getMethod(a),i.callback=function(t,e,r){e&&(n=r.response,o.doRender(a,n,i),o.resolver.resolve(p.DataCallback.UniqueId).callback(a))},this.sendAjax(a,i))},r.prototype.doRender=function(t,e,r){var a=this.getTemplate(t,e),n=this.getTargetElement(t);n.attvHtml(a),p.loadElements(n)},r.prototype.getTemplate=function(t,e){return this.resolver.resolve(p.DataTemplateSource.UniqueId).renderTemplate(t,e)},r.prototype.getTargetElement=function(t){return this.resolver.resolve(p.DataTarget.UniqueId).getTargetElement(t)||t},r.prototype.sendAjax=function(t,e){var r=this;this.resolver.resolve(p.DataTimeout.UniqueId).timeout(t,function(){r.resolver.resolve(p.DataInterval.UniqueId).interval(t,function(){p.Ajax.sendAjax(e)})})},r);function r(t,e,r){void 0===r&&(r=[new p.Validators.RequiredAttribute([p.DataUrl.UniqueId])]);var a=n.call(this,t,e,r)||this;return a.resolver.uses.push(p.DataTemplateSource.UniqueId,p.DataTimeout.UniqueId,p.DataMethod.UniqueId,p.DataCallback.UniqueId,p.DataTarget.UniqueId,p.DataInterval.UniqueId),a}t.DefaultValue=e;var a,i=(__extends(o,a=e),o.prototype.loadElement=function(t){return this.render(t),!0},o);function o(t){return a.call(this,"auto",t)||this}t.AutoValue=i;var u,l=(__extends(s,u=e),s.prototype.loadElement=function(e){var r=this;return e.onclick=function(t){return r.render(e),!1},!0},s);function s(t){return u.call(this,"click",t,[new p.Validators.RequiredAttribute([p.DataUrl.UniqueId]),new p.Validators.RequiredElement(["button","a"])])||this}t.ClickValue=l;var d,c=(__extends(v,d=e),v.prototype.loadElement=function(t){var e=this,r=t;return r.onsubmit=function(t){return e.render(r),!1},!0},v);function v(t){return d.call(this,"form",t,[new p.Validators.RequiredAttribute([p.DataUrl.UniqueId]),new p.Validators.RequiredElement(["form"])])||this}t.FormValue=c}(p.DataPartial||(p.DataPartial={}))}(Attv=Attv||{}),Attv.loader.pre.push(function(){Attv.registerAttribute("data-partial",function(t){return new Attv.DataPartial(t)},function(t,e){e.push(new Attv.DataPartial.DefaultValue(Attv.configuration.defaultTag,t)),e.push(new Attv.DataPartial.DefaultValue("lazy",t)),e.push(new Attv.DataPartial.AutoValue(t)),e.push(new Attv.DataPartial.ClickValue(t)),e.push(new Attv.DataPartial.FormValue(t))})});