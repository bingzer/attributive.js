var Attv,__extends=this&&this.__extends||function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};return function(t,e){function r(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();!function(n){var r,t=(r=n.Attribute,__extends(a,r),a.prototype.renderTemplate=function(t,e){var r=t;n.isString(t)&&(r=document.querySelector(t));var a=this.values.filter(function(t){return t.getRaw(r)===n.configuration.defaultTag})[0];return r&&(a=this.getValue(r)),a.render(r,e)},a.UniqueId="DataTemplate",a);function a(t){var e=r.call(this,a.UniqueId,t,!0)||this;return e.name=t,e.isStrict=!0,e}n.DataTemplate=t}(Attv=Attv||{}),function(o){!function(t){var u,e=(u=o.Attribute.Value,__extends(r,u),r.prototype.loadElement=function(t){var e=t.html();return this.resolver.addAttribute(o.DataTemplateHtml.UniqueId,t,e),t.html(""),!0},r.prototype.getTemplate=function(t){return this.resolver.resolve(o.DataTemplateHtml.UniqueId).getValue(t).getRaw(t)},r.prototype.render=function(t,e){var r=this.getTemplate(t)||e;return this.resolver.resolve(o.DataRenderer.UniqueId).render(r,e,t)},r);function r(t,e,r,a){void 0===a&&(a=[]);var n=u.call(this,t,e,r,a)||this;return n.resolver.uses.push(o.DataRenderer.UniqueId),n.resolver.internals.push(o.DataTemplateHtml.UniqueId),n}t.DefaultValue=e;var a,n=(__extends(i,a=e),i.prototype.loadElement=function(t){return!0},i.prototype.getTemplate=function(t){return t.html()},i);function i(t){return a.call(this,"script",t,void 0,[new o.Validators.RequiredElementValidator(["script"]),new o.Validators.RequiredAttributeValidatorWithValue([{name:"type",value:"text/html"}])])||this}t.ScriptValue=n}(o.DataTemplate||(o.DataTemplate={}))}(Attv=Attv||{}),function(t){var r,e=(r=t.Attribute,__extends(a,r),a.UniqueId="DataTemplateHtml",a);function a(t){var e=r.call(this,a.UniqueId,t,!1)||this;return e.name=t,e}t.DataTemplateHtml=e}(Attv=Attv||{}),function(a){var r,t=(r=a.Attribute,__extends(n,r),n.prototype.renderTemplate=function(t,e){var r=this.getSourceElement(t);return this.getValue(t).resolver.resolve(a.DataTemplate.UniqueId).renderTemplate(r,e)},n.prototype.getSourceElement=function(t){var e=this.getValue(t).getRaw(t);return"this"===e?t:document.querySelector(e)},n.UniqueId="DataTemplateSource",n);function n(t){var e=r.call(this,n.UniqueId,t,!1)||this;return e.name=t,e}a.DataTemplateSource=t}(Attv=Attv||{}),Attv.loader.pre.push(function(){Attv.registerAttribute("data-template-html",function(t){return new Attv.DataTemplateHtml(t)}),Attv.registerAttribute("data-template-source",function(t){return new Attv.DataTemplateSource(t)},function(t,e){var r=new Attv.Attribute.Value(void 0,t);r.resolver.uses.push(Attv.DataTemplate.UniqueId),e.push(r)}),Attv.registerAttribute("data-template",function(t){return new Attv.DataTemplate(t)},function(t,e){e.push(new Attv.DataTemplate.DefaultValue(Attv.configuration.defaultTag,t)),e.push(new Attv.DataTemplate.ScriptValue(t))})});