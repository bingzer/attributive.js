var __extends=this&&this.__extends||function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__spreadArrays=this&&this.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n},Attv;(Attv=Attv||{}).version="0.0.1",Element.prototype.attvHtml=function(html){var _a,_b,element=this;if(Attv.isUndefined(html))return element.innerHTML;if(element.innerHTML=html,html)for(var innerHtmlElement=Attv.createHTMLElement(html),scripts=innerHtmlElement.querySelectorAll("script"),i=0;i<scripts.length;i++)null!==(_b=null===(_a=scripts[i].type)||void 0===_a?void 0:_a.toLowerCase())&&void 0!==_b&&_b.contains("javascript")&&eval(scripts[i].text)},HTMLElement.prototype.attvShow=function(){var t=this,e=Attv.parseJsonOrElse(t.attvAttr("data-style"),{});e.display?t.style.display=null==e?void 0:e.display:t.style.display="block"},HTMLElement.prototype.attvHide=function(){var t=this,e=Attv.parseJsonOrElse(t.attvAttr("data-style"),{});"none"!==t.style.display&&(e.display=t.style.display,t.attvAttr("data-style",e)),t.style.display="none"},HTMLElement.prototype.attvAttr=function(t,e){var r,n;t=null===(n=null===(r=null==t?void 0:t.toString())||void 0===r?void 0:r.replace("[",""))||void 0===n?void 0:n.replace("]","");var i=this,o=(null==t?void 0:t.startsWith("data-"))&&t.replace(/^data\-/,"").dashToCamelCase();if(Attv.isUndefined(t)){for(var a={},s=0;s<i.attributes.length;s++){var u=i.attributes[s].name,l=Attv.parseJsonOrElse(i.attributes[s].value);a[u]=l}return a}if("data"!==t)return Attv.isDefined(e)?o?(Attv.isObject(e)&&(e=JSON.stringify(e)),i.dataset[o]=e,this):(i.setAttribute(t,e),i):"false"===(e=i.dataset[o])||"true"===e?"true"===e:(Attv.isUndefined(e)&&(e=i.getAttribute(t)||void 0),Attv.parseJsonOrElse(e));if(Attv.isUndefined(e)){var d=Object.keys(i.dataset),c={};return d.map(function(t){return c[t]=i.dataset[t]}),c}if(!Attv.isObject(e))throw Error("Only object can be assigned to dataset");(d=Object.keys(i.dataset)).forEach(function(t){return delete i.dataset[t]}),Object.keys(e).forEach(function(t){return i.dataset[t]=e[t]})},"function"==typeof String.prototype.contains&&(String.prototype.contains=function(t){return 0<=this.indexOf(t)}),"function"==typeof String.prototype.startsWith&&(String.prototype.startsWith=function(t){return 0==this.indexOf(t)}),"function"==typeof String.prototype.endsWith&&(String.prototype.endsWith=function(t){return-1!==this.indexOf(t,this.length-t.length)}),"function"==typeof String.prototype.camelCaseToDash&&(String.prototype.camelCaseToDash=function(){return this.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}),"function"==typeof String.prototype.dashToCamelCase&&(String.prototype.dashToCamelCase=function(){return this.toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()})}),"function"==typeof String.prototype.equalsIgnoreCase&&(String.prototype.equalsIgnoreCase=function(t){var e=this;return(null==e?void 0:e.toLowerCase())===(null==t?void 0:t.toLowerCase())}),function(n){var t;function r(e){return e?n.isString(e)&&(e=n.parseJsonOrElse(e),n.isString(e))?e:Object.keys(e).sort().map(function(t){return window.encodeURIComponent(t)+"="+window.encodeURIComponent(e[t])}).join("&"):""}(t=n.Ajax||(n.Ajax={})).sendAjax=function(r){var t,e=new XMLHttpRequest;if(e.onreadystatechange=function(t){var e;4==this.readyState&&(e=200<=this.status&&this.status<400,null!=r&&r.callback&&null!=r&&r.callback(r,e,this))},e.onerror=function(t){null!=r&&r.callback&&null!=r&&r.callback(r,!1,e)},null!==(t=r.headers)&&void 0!==t&&t.forEach(function(t){return e.setRequestHeader(t.name,t.value)}),n.isUndefined(r.url))throw new Error("url is empty");e.open(r.method,r.url,!0),e.send()},t.buildUrl=function(t){if(!n.isUndefined(t.url)){var e=t.url;return"get"===t.method&&(e+="?"+r(t.data)),e}},t.objectToQuerystring=r}(Attv=Attv||{}),function(i){var t=(Object.defineProperty(o.prototype,"isStrict",{get:function(){return this.wildcard.equalsIgnoreCase("none")},enumerable:!1,configurable:!0}),o.prototype.registerAttributeValues=function(t){for(var e,r,n,i,o=0;o<t.length;o++)(e=t[o].resolver.requires).push.apply(e,this.dependency.requires),(r=t[o].resolver.uses).push.apply(r,this.dependency.uses),(n=t[o].resolver.internals).push.apply(n,this.dependency.internals);(i=this.values).push.apply(i,t)},o.prototype.exists=function(t){return!(null==t||!t.attvAttr(this.name))},o.prototype.getValue=function(r){var t,n=null==r?void 0:r.attvAttr(this.name),e=this.values.filter(function(t){var e;return null===(e=t.getRaw(r))||void 0===e?void 0:e.equalsIgnoreCase(n)})[0];return!e&&this.isStrict&&i.log("fatal",this+"='"+(n||"")+"' is not valid",r),(e=(e=e||this.values.filter(function(t){var e;return null===(e=t.getRaw(r))||void 0===e?void 0:e.equalsIgnoreCase(i.configuration.defaultTag)})[0])||this.values[0])||(t=null==r?void 0:r.attvAttr(this.name),e=new o.Value(t,this)),e},o.prototype.isElementLoaded=function(t){var e=t.attvAttr(this.loadedName);return"true"===e||!!e},o.prototype.markElementLoaded=function(t,e){return t.attvAttr(this.loadedName,e),e},o.prototype.toString=function(){return"["+this.name+"]"},o);function o(t,e,r){void 0===r&&(r=!1),this.uniqueId=t,this.name=e,this.isAutoLoad=r,this.values=[],this.dependency=new o.Dependency,this.priority=1,this.wildcard="*",this.loadedName=this.name+"-loaded",this.settingsName=this.name+"-settings",this.dependency.internals.push(i.DataSettings.UniqueId)}i.Attribute=t}(Attv=Attv||{}),function(u){!function(t){var e=(r.prototype.getRaw=function(t){var e;return(null===(e=this.value)||void 0===e?void 0:e.toString())||(null==t?void 0:t.attvAttr(this.attribute.name))},r.prototype.loadElement=function(t){return!0},r.prototype.loadSettings=function(t,e){var r=this.resolver.resolve(u.DataSettings.UniqueId);return this.settings=r.getSettingsForValue(this,t),this.settings&&(e&&e(this.settings),u.Attribute.Settings.commit(t,this.settings)),!0},r.prototype.toString=function(t){return t?"["+this.attribute.name+"]='"+(this.value||"*")+"'":"["+this.attribute.name+"]"+(this.value?"="+this.value:"")},r);function r(t,e,r){void 0===r&&(r=[]),this.value=t,this.attribute=e,this.validators=r,this.resolver=new a(this)}t.Value=e;var n=(i.prototype.allDependencies=function(){return this.requires.concat(this.uses).concat(this.internals)},i);function i(){this.requires=[],this.uses=[],this.internals=[]}t.Dependency=n;var o,a=(__extends(s,o=n),s.prototype.resolve=function(e){var t=u.getAttribute(e);if(this.allDependencies().some(function(t){return t===e})||u.log("warning",(t||e)+" should be declared as the dependant in "+this.attributeValue.attribute+". This is for documentation purposes"),!t)throw new Error((t||e)+" can not be found. Did you register "+(t||e)+"?");return t},s.prototype.addAttribute=function(t,e,r){var n=this.resolve(t);e.attvAttr(n.name,r)},s);function s(t){var e=o.call(this)||this;return e.attributeValue=t,e}t.Resolver=a}(u.Attribute||(u.Attribute={}))}(Attv=Attv||{}),function(s){var t,e,u;t=s.Attribute||(s.Attribute={}),e=t.Settings||(t.Settings={}),u=["attributeValue","override","style","styleUrls","jsUrls"],e.commit=function(t,o){var e,r,a=!0;o.style&&(e="style-"+o.attributeValue.attribute.settingsName,r=document.querySelector("style#"+e),a=o.override||!r,r||((r=s.createHTMLElement("<style>")).id=e,document.head.append(r)),a&&(r.innerHTML=o.style)),o.styleUrls&&o.styleUrls.forEach(function(t){var e,r,n="link-"+t.name+"-"+o.attributeValue.attribute.settingsName,i=document.querySelector("link#"+n);a=o.override||!i,i||(i=s.createHTMLElement("<link>"),document.head.append(i)),a&&(i.id=n,i.rel="stylesheet",i.href=t.url,i.integrity=null===(e=t.options)||void 0===e?void 0:e.integrity,i.crossOrigin=null===(r=t.options)||void 0===r?void 0:r.crossorigin)}),o.jsUrls&&o.jsUrls.forEach(function(t){var e,r,n="script-"+t.name+"-"+o.attributeValue.attribute.settingsName,i=document.querySelector("script#"+n);a=o.override||!i,i||(i=s.createHTMLElement("<script>"),document.body.append(i)),a&&(i.id=n,i.src=t.url,i.integrity=null===(e=t.options)||void 0===e?void 0:e.integrity,i.crossOrigin=null===(r=t.options)||void 0===r?void 0:r.crossorigin,i.onload=function(){return s.loadElements()})});var n=Object.keys(o).filter(function(e){return!u.some(function(t){return t.equalsIgnoreCase(e)})}),i={};n.forEach(function(t){return i[t]=o[t]}),t.attvAttr(o.attributeValue.attribute.settingsName,i)}}(Attv=Attv||{}),function(i){var r,t=(r=i.Attribute,__extends(n,r),n.prototype.getSettings=function(t){var e=this.getValue(t).getRaw(t);return i.parseJsonOrElse(e,{})},n.prototype.getSettingsForValue=function(t,e){var r=e.attvAttr(t.attribute.settingsName),n=i.parseJsonOrElse(r,{});return n.attributeValue=n.attributeValue||t,n},n.UniqueId="DataSettings",n);function n(t){var e=r.call(this,n.UniqueId,t)||this;return e.wildcard="<json>",e}i.DataSettings=t}(Attv=Attv||{}),function(s){!function(t){var e=(r.prototype.validate=function(t,e){for(var r=!0,n=this.requiredAttributeIds.map(function(t){return s.getAttribute(t)}),i=0;i<n.length;i++){var o=n[i],a=o.getValue(e);null!=a&&a.getRaw(e)||s.log("error",t.toString(!0)+" is requiring "+o+" to be present in DOM",e),r=r&&!!o}return r},r);function r(t){this.requiredAttributeIds=t}t.RequiredAttribute=e;var n=(i.prototype.validate=function(t,e){for(var r=!0,n=0;n<this.requiredAttributes.length;n++){var i=this.requiredAttributes[n],o=e.attvAttr(i.name);o.equalsIgnoreCase(i.value)||s.log("error",t.toString(!0)+" is requiring ["+i.name+"]='"+i.value+"' to be present in DOM",e),r=r&&!!o}return r},i);function i(t){this.requiredAttributes=t}t.RequiredAttributeWithValue=n;var o=(a.prototype.validate=function(t,e){for(var r=!1,n=0;n<this.elementTagNames.length;n++){var i=this.elementTagNames[n];if(e.tagName.equalsIgnoreCase(i)){r=!0;break}}return r||s.log("error",t.toString(!0)+" can only be attached to elements ["+this.elementTagNames+"]",e),r},a);function a(t){this.elementTagNames=t}t.RequiredElement=o}(s.Validators||(s.Validators={}))}(Attv=Attv||{}),function(t){var e=(Object.defineProperty(r.prototype,"defaultTag",{get:function(){return"default"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"logLevels",{get:function(){return["log","warning","error","debug","fatal"]},enumerable:!1,configurable:!0}),r);function r(){this.isDebug=!0,this.isLoggingEnabled=!0}t.DefaultConfiguration=e}(Attv=Attv||{}),function(a){var t;function i(t){var e,r=(null===t||void 0===t?void 0:t.tagName)||t;return(null===(e=a.Dom.htmlTags.filter(function(t){return t.tag.equalsIgnoreCase(r)})[0])||void 0===e?void 0:e.parentTag)||"div"}(t=a.Dom||(a.Dom={})).htmlTags=[{tag:"tr",parentTag:"tbody"},{tag:"th",parentTag:"thead"},{tag:"td",parentTag:"tr"}],t.getParentTag=i,t.createHTMLElement=function(t,e){var r=i(t),n=document.createElement(r);return n.innerHTML=e,n},t.parseDom=function(t){if(a.isString(t)){var e=t,r=void 0;if((o=e.toString()).startsWith("<")&&o.endsWith(">")){var n=o.substring(1,o.length-1);try{r=window.document.createElement(n)}catch(t){}}if(!r){try{a.Dom.domParser||(a.Dom.domParser=new DOMParser);var i=a.Dom.domParser.parseFromString(e,"text/xml"),o=i.firstElementChild.tagName;i.querySelector("parsererror")&&(o="div")}catch(t){}r=a.Dom.createHTMLElement(o,e)}t=r}return t}}(Attv=Attv||{}),function(i){var e=0;function r(t,e){return typeof t===e}i.isUndefined=function(t){return void 0===t},i.isDefined=function(t){return!(void 0===t)},i.isString=function(t){return r(t,"string")},i.isObject=function(t){return r(t,"object")},i.isType=r,i.isEvaluatable=function(t){return(null==t?void 0:t.startsWith("("))&&(null==t?void 0:t.endsWith(")"))},i.eval=function(t){return window.eval(t)},i.navigate=function(t,e){e?window.open(t,e):window.location.href=t},i.createHTMLElement=function(t){return i.Dom.parseDom(t)},i.parseJsonOrElse=function(t,e){var r;i.isString(t)&&(null!=(r=t)&&r.startsWith("{")&&null!=r&&r.endsWith("}")&&(r="("+r+")"),i.isEvaluatable(r)&&(r=i.eval(r)),t=r);try{t=JSON.parse(t)}catch(t){}return t||e},i.generateElementId=function(t){return(t=t.camelCaseToDash())+"-"+ ++e},i.log=function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(i.configuration.isLoggingEnabled||"fatal"===e[0]){var n=e[0];if(0<=(null===(t=i.configuration.logLevels)||void 0===t?void 0:t.indexOf(n))&&(e=e.splice(1)),"warning"===n)console.warn.apply(console,e);else if("error"===n)console.error.apply(console,e);else{if("fatal"===n)throw console.error.apply(console,e),new(Error.bind.apply(Error,__spreadArrays([void 0],e)));"debug"===n?console.debug.apply(console,e):console.log.apply(console,e)}}},i.onDocumentReady=function(t){document.addEventListener("DOMContentLoaded",t,!1)}}(Attv=Attv||{}),function(u){u.attributes=[],u.loader={init:[],pre:[],post:[]},u.loadElements=function(e){u.isUndefined(e)&&(e=document.querySelector("html")),u.log("debug","Loading element",e),u.attributes.filter(function(t){return t.isAutoLoad}).sort(function(t,e){return t.priority<e.priority?-1:0}).forEach(function(s,t){e.querySelectorAll(""+s).forEach(function(e,t){try{if(s.isElementLoaded(e))return;var r=s.getValue(e);if(!r){var n=e.attvAttr(s.name);return void u.log("warning",s+" does not support "+s+"='"+n+"'",e)}for(var i=!0,o=0;o<r.validators.length;o++)i=r.validators[o].validate(r,e);if(!i)return;var a=r.loadElement(e);a&&s.markElementLoaded(e,a)}catch(t){u.log("error","Unexpected error occurred when loading "+s,t,e)}})})},u.getAttribute=function(e){return u.attributes.filter(function(t){return t.uniqueId==e})[0]}}(Attv=Attv||{}),function(n){var i=[],o=[];n.registerAttribute=function(t,e,r){var n=new a(t,e,r);i.push(n)},n.registerAttributeValue=function(t,e){var r=new s(t,e);o.push(r)},n.unregisterAttribute=function(e){var t=i.filter(function(t){return t.attributeName!==e});i.splice(0,i.length),i.push.apply(i,t)};var a=(t.prototype.register=function(){var e=this.fn(this.attributeName);n.log("debug",""+e,e);var r=[];this.valuesFn&&this.valuesFn(e,r),o.filter(function(t){return t.attributeUniqueId===e.uniqueId}).forEach(function(t){t.register(e,r)});var t=r.reverse();return e.registerAttributeValues(t),0<r.length?n.log("debug",""+r.map(function(t){return t.toString(!0)}),r):n.log("debug",e.toString()+"='"+e.wildcard+"'"),e},t);function t(t,e,r){this.attributeName=t,this.fn=e,this.valuesFn=r}var s=function(t,e){this.attributeUniqueId=t,this.register=e};n.loader.init.push(function(){n.configuration||(n.configuration=new n.DefaultConfiguration)}),n.loader.pre.push(function(){n.log("Attv v."+n.version),n.registerAttribute("data-settings",function(t){return new n.DataSettings(t)})}),n.loader.post.push(function(){for(var t=0;t<i.length;t++){var e=i[t].register();n.attributes.push(e)}},n.loadElements,function(){i=[],o=[]})}(Attv=Attv||{}),Attv.onDocumentReady(function(){for(var t=0;t<Attv.loader.init.length;t++)Attv.loader.init[t]();for(t=0;t<Attv.loader.pre.length;t++)Attv.loader.pre[t]();for(t=0;t<Attv.loader.post.length;t++)Attv.loader.post[t]();Attv.loader.init=[],Attv.loader.pre=[],Attv.loader.post=[]});
var Attv,__extends=this&&this.__extends||function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};return function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();!function(i){var n,t,a,e,r=(n=i.Attribute,__extends(o,n),o.prototype.getUrl=function(t){var e,n=this.getValue(t),r=n.getRaw(t),a=n.resolver.resolve(v.UniqueId).getMethod(t);return a.equalsIgnoreCase("get")&&(e=n.resolver.resolve(L.UniqueId).getData(t),r=i.Ajax.buildUrl({url:r,method:a,data:e})),n.resolver.resolve(g.UniqueId).useCache(t)||(r.contains("?")?r+="&_="+Date.now():r+="?_="+Date.now()),r},o.UniqueId="DataUrl",o);function o(t){var e=n.call(this,o.UniqueId,t)||this;return e.dependency.requires.push(v.UniqueId,L.UniqueId,g.UniqueId),e}function u(t){return a.call(this,void 0,t)||this}i.DataUrl=r,t=i.DataUrl||(i.DataUrl={}),a=i.Attribute.Value,__extends(u,a),u.prototype.getRaw=function(t){var e,n,r=a.prototype.getRaw.call(this,t);return!r&&null!==(e=null==t?void 0:t.tagName)&&void 0!==e&&e.equalsIgnoreCase("form")&&(r=t.attvAttr("action")),!r&&null!==(n=null==t?void 0:t.tagName)&&void 0!==n&&n.equalsIgnoreCase("a")&&(r=t.attvAttr("href")),r},e=u,t.DefaultValue=e;var l,s,d,c,v=(l=i.Attribute,__extends(h,l),h.prototype.getMethod=function(t){return this.getValue(t).getRaw(t)},h.UniqueId="DataMethod",h.DefaultMethod="get",h);function h(t){return l.call(this,h.UniqueId,t)||this}function f(t){return d.call(this,void 0,t)||this}i.DataMethod=v,s=v=i.DataMethod||(i.DataMethod={}),d=i.Attribute.Value,__extends(f,d),f.prototype.getRaw=function(t){var e,n=d.prototype.getRaw.call(this,t);return!n&&null!==(e=null==t?void 0:t.tagName)&&void 0!==e&&e.equalsIgnoreCase("form")&&(n=t.attvAttr("method")),n=n||s.DefaultMethod},c=f,s.DefaultValue=c;var p,g=(p=i.Attribute,__extends(A,p),A.prototype.useCache=function(t){var e=this.getValue(t).getRaw(t);return!(!i.isUndefined(e)&&null!==e)||(null==e?void 0:e.equalsIgnoreCase("true"))},A.UniqueId="DataCache",A);function A(t){var e=p.call(this,A.UniqueId,t)||this;return e.wildcard="<boolean>",e}i.DataCache=g;var D,b=(D=i.Attribute,__extends(w,D),w.prototype.callback=function(t){var e=this.getValue(t).getRaw(t);return i.eval(e)},w.UniqueId="DataCallback",w);function w(t){var e=D.call(this,w.UniqueId,t)||this;return e.wildcard="<jsExpression>",e}i.DataCallback=b;var y,I=(y=i.Attribute,__extends(q,y),q.prototype.getContent=function(t){return this.getValue(t).getRaw(t)},q.UniqueId="DataContent",q);function q(t){return y.call(this,q.UniqueId,t)||this}i.DataContent=I;var _,m=(_=i.Attribute,__extends(U,_),U.prototype.getTargetElement=function(t){var e=this.getValue(t).getRaw(t);return document.querySelector(e)},U.UniqueId="DataTarget",U);function U(t){var e=_.call(this,U.UniqueId,t)||this;return e.wildcard="<querySelector>",e}i.DataTarget=m;var C,R=(C=i.Attribute,__extends(V,C),V.prototype.timeout=function(t,e){var n=parseInt(this.getValue(t).getRaw(t));n?window.setTimeout(e,n):e()},V.UniqueId="DataTimeout",V);function V(t){var e=C.call(this,V.UniqueId,t)||this;return e.wildcard="<number>",e}i.DataTimeout=R;var x,S=(x=i.Attribute,__extends(T,x),T.prototype.interval=function(t,e){var n,r=parseInt(this.getValue(t).getRaw(t));r&&(n=new T.IntervalTimer(r,e),T.step(n,r)),e()},T.step=function(t,e){void 0===t.start&&(t.start=e-t.timer),e-t.start>t.timer&&(t.fn(),t.start=e,T.requestAnimationFrame(t)),T.requestAnimationFrame(t)},T.requestAnimationFrame=function(e){var n=this;window.requestAnimationFrame(function(t){n.step(e,t)})},T.UniqueId="DataInterval",T);function T(t){var e=x.call(this,T.UniqueId,t)||this;return e.wildcard="<number>",e}function H(t,e,n){this.timer=t,this.fn=e,this.start=n}i.DataInterval=S,(i.DataInterval||(i.DataInterval={})).IntervalTimer=H;var E,L=(E=i.Attribute,__extends(k,E),k.prototype.getData=function(t){var e=this.getValue(t).getRaw(t);return i.parseJsonOrElse(e)},k.UniqueId="DataData",k);function k(t){var e=E.call(this,k.UniqueId,t)||this;return e.wildcard="<json>",e}i.DataData=L;var M,O=(M=i.Attribute,__extends(j,M),j.prototype.getTitle=function(t){return this.getValue(t).getRaw(t)},j.UniqueId="DataTitle",j);function j(t){return M.call(this,j.UniqueId,t)||this}i.DataTitle=O;var B,J=(B=i.Attribute,__extends(N,B),N.prototype.bind=function(t,e){t.attvHtml((null==e?void 0:e.toString())||"")},N.UniqueId="DataBind",N);function N(t){return B.call(this,N.UniqueId,t)||this}i.DataBind=J;var F,P=(F=i.Attribute,__extends(W,F),W.prototype.isEnabled=function(t){var e=this.getValue(t).getRaw(t);return!(null!=e&&e.equalsIgnoreCase("false"))},W.UniqueId="DataEnabled",W);function W(t){var e=F.call(this,W.UniqueId,t)||this;return e.wildcard="<boolean>",e}i.DataEnabled=P;var $,z=($=i.Attribute,__extends(G,$),G.prototype.isActive=function(t){var e=this.getValue(t).getRaw(t);return null==e?void 0:e.equalsIgnoreCase("true")},G.prototype.setActive=function(t,e){t.attvAttr(this,e)},G.UniqueId="DataActive",G);function G(t){var e=$.call(this,G.UniqueId,t)||this;return e.wildcard="<boolean>",e}i.DataActive=z;var K,Q=(K=i.Attribute,__extends(X,K),X.prototype.getRoute=function(t){return this.getValue(t).getRaw(t)},X.prototype.getLocationRoute=function(){return this.cleanHash(window.location.hash)},X.prototype.appendHash=function(){for(var t,e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var a=null===(t=null==n?void 0:n.map(function(t){return e.cleanHash(t)}))||void 0===t?void 0:t.join("/");return this.cleanHash(a)},X.prototype.setRoute=function(t){i.isUndefined(t)||(window.location.hash=this.cleanHash(t))},X.prototype.getHash=function(t){return null!=t&&t.startsWith("#")||(t="#"+t),t},X.prototype.matches=function(t){t=this.cleanHash(t);var e=this.getLocationRoute();return!!e.startsWith(t)&&(e===t||"/"===e.substr(e.indexOf(t)+t.length,1))},X.prototype.cleanHash=function(t){var e;return null===(e=null==t?void 0:t.replace("#",""))||void 0===e?void 0:e.replace(/\/\//,"/")},X.UniqueId="DataRoute",X);function X(t){return K.call(this,X.UniqueId,t)||this}i.DataRoute=Q}(Attv=Attv||{}),Attv.loader.pre.push(function(){Attv.registerAttribute("data-url",function(t){return new Attv.DataUrl(t)},function(t,e){e.push(new Attv.DataUrl.DefaultValue(t))}),Attv.registerAttribute("data-method",function(t){return new Attv.DataMethod(t)},function(t,e){e.push(new Attv.DataMethod.DefaultValue(t))}),Attv.registerAttribute("data-callback",function(t){return new Attv.DataCallback(t)}),Attv.registerAttribute("data-target",function(t){return new Attv.DataTarget(t)}),Attv.registerAttribute("data-timeout",function(t){return new Attv.DataTimeout(t)}),Attv.registerAttribute("data-interval",function(t){return new Attv.DataInterval(t)}),Attv.registerAttribute("data-content",function(t){return new Attv.DataContent(t)}),Attv.registerAttribute("data-data",function(t){return new Attv.DataData(t)}),Attv.registerAttribute("data-cache",function(t){return new Attv.DataCache(t)}),Attv.registerAttribute("data-title",function(t){return new Attv.DataTitle(t)}),Attv.registerAttribute("data-bind",function(t){return new Attv.DataBind(t)}),Attv.registerAttribute("data-active",function(t){return new Attv.DataActive(t)}),Attv.registerAttribute("data-enabled",function(t){return new Attv.DataEnabled(t)}),Attv.registerAttribute("data-route",function(t){return new Attv.DataRoute(t)})}),function(n){var r,t,a,i,e,o,u=(r=n.Attribute,__extends(l,r),l.UniqueId="DataLoading",l);function l(t){var e=r.call(this,l.UniqueId,t,!0)||this;return e.wildcard="none",e}function s(t,e){return a.call(this,t,e)||this}n.DataLoading=u,t=n.DataLoading||(n.DataLoading={}),a=n.Attribute.Value,__extends(s,a),s.prototype.loadElement=function(e){return this.loadSettings(e,function(t){t.outerColor=t.outerColor||n.DataLoading.SpinnerSettings.DefaultOuterColor,t.innerColor=t.innerColor||n.DataLoading.SpinnerSettings.DefaultInnerColor,t.width=t.width||n.DataLoading.SpinnerSettings.DefaultWidth,t.height=t.height||n.DataLoading.SpinnerSettings.DefaultHeight,t.style=i.getStyle(t),e.style.borderColor=t.outerColor,e.style.borderTopColor=t.innerColor,e.style.height=t.width,e.style.width=t.height})},o=s,t.DefaultValue=o,(e=i=t.SpinnerSettings||(t.SpinnerSettings={})).DefaultOuterColor="#c0c0c0",e.DefaultInnerColor="#000000",e.DefaultWidth="25px",e.DefaultHeight="25px",e.getStyle=function(t){return"\n[data-loading='spinner'],\n[data-loading='default'] {\n    display: inline-block;\n    width: "+t.width+";\n    height: "+t.height+";\n    border: 3px solid "+t.outerColor+";\n    border-radius: 50%;\n    border-top-color: "+t.innerColor+";\n    animation: spin 1s ease-in-out infinite;\n    -webkit-animation: spin 1s ease-in-out infinite;\n}\n\n@keyframes spin {\n    to { -webkit-transform: rotate(360deg); }\n}\n@-webkit-keyframes spin {\n    to { -webkit-transform: rotate(360deg); }\n}\n"}}(Attv=Attv||{}),Attv.loader.pre.push(function(){Attv.registerAttribute("data-loading",function(t){return new Attv.DataLoading(t)},function(t,e){e.push(new Attv.DataLoading.DefaultValue(Attv.configuration.defaultTag,t))})}),function(u){var e,t=(e=u.Attribute,__extends(n,e),n.prototype.render=function(t,e,n,r){return(r=r||this.getValue(n)).render(t,e)},n.UniqueId="DataRenderer",n);function n(t){return e.call(this,n.UniqueId,t)||this}u.DataRenderer=t,function(t){var n,e=(n=u.Attribute.Value,__extends(r,n),r.prototype.loadElement=function(t){return!0},r.prototype.render=function(t,e,n){return t},r);function r(t,e){return n.call(this,t,e)||this}t.DefaultValue=e;var a,i=(__extends(o,a=e),o.prototype.loadElement=function(t){return!0},o.prototype.render=function(t,e){e=u.parseJsonOrElse(e);var n=u.createHTMLElement(t),r=u.createHTMLElement("");return this.bind(r,n,e),r.attvHtml()},o.prototype.bind=function(t,e,n){for(var r=e.querySelectorAll(this.dataBind.toString()),a=0;a<r.length;a++){var i=r[a],o=i.attvAttr(this.dataBind),u=this.getPropertyValue(o,n);if(Array.isArray(u)){var l=u,s=i.parentElement;i.remove();for(var d=0;d<l.length;d++){var c=i.cloneNode(!0);this.bind(s,c,l[d])}}else this.dataBind.bind(i,u),t.append(e)}},o.prototype.getPropertyValue=function(t,e){var n=e;if(!u.isUndefined(e)){if("$"===t||"$root"===t)n=e;else{if("$json"===t)return n=JSON.stringify(n);for(var r=t.split("."),a=0;a<r.length;a++)try{n=n[r[a]]}catch(t){}}return u.parseJsonOrElse(n)}},o);function o(t,e){void 0===t&&(t="json2html");var n=a.call(this,t,e)||this;return n.resolver.requires.push(u.DataBind.UniqueId),n.dataBind=n.resolver.resolve(u.DataBind.UniqueId),n}t.Json2HtmlValue=i}(u.DataRenderer||(u.DataRenderer={}))}(Attv=Attv||{}),Attv.loader.pre.push(function(){Attv.registerAttribute("data-renderer",function(t){return new Attv.DataRenderer(t)},function(t,e){e.push(new Attv.DataRenderer.DefaultValue(Attv.configuration.defaultTag,t)),e.push(new Attv.DataRenderer.Json2HtmlValue("json2Html",t))})});
var Attv,__extends=this&&this.__extends||function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();!function(a){var r,t=(r=a.Attribute,__extends(n,r),n.prototype.renderTemplate=function(t,e){var r=t;a.isString(t)&&(r=document.querySelector(t));var n=this.values.filter(function(t){return t.getRaw(r)===a.configuration.defaultTag})[0];return r&&(n=this.getValue(r)),n.render(r,e)},n.UniqueId="DataTemplate",n);function n(t){var e=r.call(this,n.UniqueId,t,!0)||this;return e.name=t,e.wildcard="none",e}a.DataTemplate=t}(Attv=Attv||{}),function(o){!function(t){var a,e=(a=o.Attribute.Value,__extends(r,a),r.prototype.loadElement=function(t){var e=t.attvHtml();return this.resolver.addAttribute(o.DataTemplateHtml.UniqueId,t,e),t.attvHtml(""),!0},r.prototype.getTemplate=function(t){return this.resolver.resolve(o.DataTemplateHtml.UniqueId).getValue(t).getRaw(t)},r.prototype.render=function(t,e){var r=this.getTemplate(t)||e;return this.resolver.resolve(o.DataRenderer.UniqueId).render(r,e,t)},r);function r(t,e,r){void 0===r&&(r=[]);var n=a.call(this,t,e,r)||this;return n.resolver.uses.push(o.DataRenderer.UniqueId),n.resolver.internals.push(o.DataTemplateHtml.UniqueId),n}t.DefaultValue=e;var n,u=(__extends(i,n=e),i.prototype.loadElement=function(t){return!0},i.prototype.getTemplate=function(t){return t.attvHtml()},i);function i(t){return n.call(this,"script",t,[new o.Validators.RequiredElement(["script"]),new o.Validators.RequiredAttributeWithValue([{name:"type",value:"text/html"}])])||this}t.ScriptValue=u}(o.DataTemplate||(o.DataTemplate={}))}(Attv=Attv||{}),function(t){var r,e=(r=t.Attribute,__extends(n,r),n.UniqueId="DataTemplateHtml",n);function n(t){var e=r.call(this,n.UniqueId,t,!1)||this;return e.name=t,e}t.DataTemplateHtml=e}(Attv=Attv||{}),function(n){var r,t=(r=n.Attribute,__extends(a,r),a.prototype.renderTemplate=function(t,e){var r=this.getSourceElement(t);return this.getValue(t).resolver.resolve(n.DataTemplate.UniqueId).renderTemplate(r,e)},a.prototype.getSourceElement=function(t){var e=this.getValue(t).getRaw(t);return"this"===e?t:document.querySelector(e)},a.UniqueId="DataTemplateSource",a);function a(t){var e=r.call(this,a.UniqueId,t,!1)||this;return e.name=t,e}n.DataTemplateSource=t}(Attv=Attv||{}),Attv.loader.pre.push(function(){Attv.registerAttribute("data-template-html",function(t){return new Attv.DataTemplateHtml(t)}),Attv.registerAttribute("data-template-source",function(t){return new Attv.DataTemplateSource(t)},function(t,e){var r=new Attv.Attribute.Value(void 0,t);r.resolver.uses.push(Attv.DataTemplate.UniqueId),e.push(r)}),Attv.registerAttribute("data-template",function(t){return new Attv.DataTemplate(t)},function(t,e){e.push(new Attv.DataTemplate.DefaultValue(Attv.configuration.defaultTag,t)),e.push(new Attv.DataTemplate.ScriptValue(t))})});
var Attv,__extends=this&&this.__extends||function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};return function(t,e){function r(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();!function(a){var r,t=(r=a.Attribute,__extends(n,r),n.prototype.renderPartial=function(t,e){a.isString(t)&&(t=document.querySelector(t));var r=t;this.getValue(r).render(r,e)},n.UniqueId="DataPartial",n);function n(t){var e=r.call(this,n.UniqueId,t,!0)||this;return e.name=t,e.wildcard="none",e.dependency.requires.push(a.DataUrl.UniqueId),e}a.DataPartial=t}(Attv=Attv||{}),function(p){!function(t){var n,e=(n=p.Attribute.Value,__extends(r,n),r.prototype.render=function(a,n,i){var o=this;n?this.doRender(a,n,i):((i=i||{}).url=this.resolver.resolve(p.DataUrl.UniqueId).getUrl(a),i.method=this.resolver.resolve(p.DataMethod.UniqueId).getMethod(a),i.callback=function(t,e,r){e&&(n=r.response,o.doRender(a,n,i),o.resolver.resolve(p.DataCallback.UniqueId).callback(a))},this.sendAjax(a,i))},r.prototype.doRender=function(t,e,r){var a=this.getTemplate(t,e),n=this.getTargetElement(t);n.attvHtml(a),p.loadElements(n)},r.prototype.getTemplate=function(t,e){return this.resolver.resolve(p.DataTemplateSource.UniqueId).renderTemplate(t,e)},r.prototype.getTargetElement=function(t){return this.resolver.resolve(p.DataTarget.UniqueId).getTargetElement(t)||t},r.prototype.sendAjax=function(t,e){var r=this;this.resolver.resolve(p.DataTimeout.UniqueId).timeout(t,function(){r.resolver.resolve(p.DataInterval.UniqueId).interval(t,function(){p.Ajax.sendAjax(e)})})},r);function r(t,e,r){void 0===r&&(r=[new p.Validators.RequiredAttribute([p.DataUrl.UniqueId])]);var a=n.call(this,t,e,r)||this;return a.resolver.uses.push(p.DataTemplateSource.UniqueId,p.DataTimeout.UniqueId,p.DataMethod.UniqueId,p.DataCallback.UniqueId,p.DataTarget.UniqueId,p.DataInterval.UniqueId),a}t.DefaultValue=e;var a,i=(__extends(o,a=e),o.prototype.loadElement=function(t){return this.render(t),!0},o);function o(t){return a.call(this,"auto",t)||this}t.AutoValue=i;var u,l=(__extends(s,u=e),s.prototype.loadElement=function(e){var r=this;return e.onclick=function(t){return r.render(e),!1},!0},s);function s(t){return u.call(this,"click",t,[new p.Validators.RequiredAttribute([p.DataUrl.UniqueId]),new p.Validators.RequiredElement(["button","a"])])||this}t.ClickValue=l;var d,c=(__extends(v,d=e),v.prototype.loadElement=function(t){var e=this,r=t;return r.onsubmit=function(t){return e.render(r),!1},!0},v);function v(t){return d.call(this,"form",t,[new p.Validators.RequiredAttribute([p.DataUrl.UniqueId]),new p.Validators.RequiredElement(["form"])])||this}t.FormValue=c}(p.DataPartial||(p.DataPartial={}))}(Attv=Attv||{}),Attv.loader.pre.push(function(){Attv.registerAttribute("data-partial",function(t){return new Attv.DataPartial(t)},function(t,e){e.push(new Attv.DataPartial.DefaultValue(Attv.configuration.defaultTag,t)),e.push(new Attv.DataPartial.DefaultValue("lazy",t)),e.push(new Attv.DataPartial.AutoValue(t)),e.push(new Attv.DataPartial.ClickValue(t)),e.push(new Attv.DataPartial.FormValue(t))})});
var Attv,__extends=this&&this.__extends||function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};return function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();!function(i){var n,t=(n=i.Attribute,__extends(a,n),a.UniqueId="DataWall",a);function a(t){var e=n.call(this,a.UniqueId,t,!0)||this;return e.name=t,e.wildcard="none",e.dependency.uses.push(i.DataContent.UniqueId),e.dependency.internals.push(i.DataCallback.UniqueId,i.DataUrl.UniqueId),e}i.DataWall=t,function(t){var a,e=(a=i.Attribute.Value,__extends(n,a),n.prototype.loadElement=function(e){var n=this;return e.attvAttr("onclick")&&(this.resolver.addAttribute(i.DataCallback.UniqueId,e,e.attvAttr("onclick")),e.removeAttribute("onclick"),e.onclick=null),e.onclick=function(t){return n.onclick(e,t)},!0},n.prototype.onclick=function(t,e){var n=this.resolver.resolve(i.DataContent.UniqueId).getContent(t);return alert(n),this.continue(t)},n.prototype.continue=function(t){var e,n,a=this.resolver.resolve(i.DataUrl.UniqueId).getValue(t).getRaw(t),r=this.resolver.resolve(i.DataCallback.UniqueId);return r.getValue(t).getRaw(t)?r.callback(t):null!==(e=null==t?void 0:t.tagName)&&void 0!==e&&e.equalsIgnoreCase("a")&&(n=t.attvAttr("target"),i.navigate(a||"",n)),!1},n);function n(t,e,n){return void 0===n&&(n=[new i.Validators.RequiredElement(["a","button"])]),a.call(this,t,e,n)||this}t.DefaultValue=e;var r,o=(__extends(l,r=e),l.prototype.onclick=function(t,e){var n=this.resolver.resolve(i.DataContent.UniqueId).getContent(t);return!!confirm(n)&&this.continue(t)},l);function l(t,e,n){return void 0===n&&(n=[]),r.call(this,t,e,n)||this}t.ConfirmValue=o}(i.DataWall||(i.DataWall={}))}(Attv=Attv||{}),Attv.loader.pre.push(function(){Attv.registerAttribute("data-wall",function(t){return new Attv.DataWall(t)},function(t,e){e.push(new Attv.DataWall.DefaultValue("alert",t)),e.push(new Attv.DataWall.ConfirmValue("confirm",t)),e.push(new Attv.DataWall.DefaultValue("native-alert",t)),e.push(new Attv.DataWall.ConfirmValue("native-confirm",t))})});
var Attv;!function(a){!function(t){var e=(n.prototype.write=function(t,e){console.log(t)},n.prototype.clear=function(){console.clear()},n);function n(){}t.ConsoleWriter=e;var o=(r.prototype.write=function(t,e){var n=a.createHTMLElement("<p>");n.className="attv-"+e,n.innerHTML=t,this.htmlElement.append(n)},r.prototype.clear=function(){this.htmlElement.innerHTML=""},r);function r(t){void 0===t&&(t=a.createHTMLElement("<div>")),(this.htmlElement=t).className="attv-docs"}t.HtmlWriter=o;var i=new e;t.showHelp=function(e,n){var t;void 0===n&&(n=i);var o=a.attributes.filter(function(t){return t.uniqueId==e||t.name===e})[0];n.clear(),n.write("Documentation for "+o.toString()+". "+(o.description||""),"attribute"),o.values.forEach(function(t){n.write(""+t.toString(!0),"attribute-value")}),0===(null===(t=o.values)||void 0===t?void 0:t.length)&&n.write(o.toString()+"='"+o.wildcard+"'")}}(a.Docs||(a.Docs={}))}(Attv=Attv||{});
var Attv,__extends=this&&this.__extends||function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)};return function(t,e){function a(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}}(),__spreadArrays=this&&this.__spreadArrays||function(){for(var t=0,e=0,a=arguments.length;e<a;e++)t+=arguments[e].length;for(var n=Array(t),r=0,e=0;e<a;e++)for(var i=arguments[e],o=0,u=i.length;o<u;o++,r++)n[r]=i[o];return n};!function(a){var n,t=(n=a.Attribute,__extends(r,n),r.UniqueId="DataTab",r);function r(t){var e=n.call(this,r.UniqueId,t,!0)||this;return e.name=t,e.wildcard="none",e.dependency.uses.push(a.DataTabContent.UniqueId,a.DataTabItem.UniqueId),e}a.DataTab=t}(Attv=Attv||{}),function(u){!function(t){var n,e=(n=u.Attribute.Value,__extends(a,n),a.prototype.loadElement=function(a){var n=this;return this.loadSettings(a,function(t){var e=n.resolver.resolve(u.DataTabItem.UniqueId);a.querySelectorAll(e.toString()).forEach(function(t){e.getValue(t).loadElement(t)}),t.style=u.DataTab.DefaultSettings.getStyle(t),n.attribute.markElementLoaded(a,!0)})},a);function a(t,e,a){return void 0===a&&(a=[]),n.call(this,t,e,a)||this}t.DefaultValue=e;var r,i=(r=u.DataPartial.DefaultValue,__extends(o,r),o.prototype.loadElement=function(t){return!1},o.prototype.render=function(t,e,a){this.attribute.isElementLoaded(t)||(r.prototype.render.call(this,t,e,a),this.attribute.markElementLoaded(t,!0))},o.prototype.doRender=function(t,e,a){r.prototype.doRender.call(this,t,e,a),this.attribute.markElementLoaded(t,!0)},o);function o(t){return r.call(this,"tab",t)||this}t.DataPartialTabValue=i}(u.DataTab||(u.DataTab={}))}(Attv=Attv||{}),function(v){var a,t,n,e,r=(a=v.Attribute,__extends(i,a),i.UniqueId="DataTabItem",i);function i(t){var e=a.call(this,i.UniqueId,t)||this;return e.name=t,e.dependency.uses.push(v.DataEnabled.UniqueId,v.DataActive.UniqueId),e.dependency.internals.push(v.DataRoute.UniqueId),e}function o(t,e){void 0===e&&(e=[]);var a=n.call(this,void 0,t,e)||this;return a.resolver.uses.push(v.DataEnabled.UniqueId,v.DataActive.UniqueId,v.DataTabContent.UniqueId),a.resolver.internals.push(v.DataTab.UniqueId),a}v.DataTabItem=r,t=v.DataTabItem||(v.DataTabItem={}),n=v.Attribute.Value,__extends(o,n),o.prototype.loadElement=function(t){var a=this;if(!this.attribute.isElementLoaded(t)){function e(t){var e;return a.setItemActive(i,s,!0,d),a.displayContent(l,s,d),u.exists(l)&&(e=u.appendHash(u.getRoute(l),a.getRaw(s)),u.setRoute(e)),!1}var n,r=this.resolver.resolve(v.DataTab.UniqueId),i=this.resolver.resolve(v.DataActive.UniqueId),o=this.resolver.resolve(v.DataEnabled.UniqueId),u=this.resolver.resolve(v.DataRoute.UniqueId),l=t.closest(r.toString()),s=t,d=__spreadArrays(l.querySelectorAll(this.toString()));if(u.getLocationRoute())for(var c=0;c<d.length;c++){var b=u.appendHash(u.getRoute(l),this.getRaw(d[c]));if(u.matches(b)){this.setItemActive(i,d[c],!0,d);break}}u.exists(l)&&t.tagName.equalsIgnoreCase("a")&&(n=u.appendHash(u.getRoute(l),this.getRaw(s)),t.attvAttr("href",u.getHash(n))),o.isEnabled(t)?(t.onclick=e,t.parentElement.tagName.equalsIgnoreCase("li")&&(t.parentElement.onclick=e)):(t.tagName.equalsIgnoreCase("a")&&t.removeAttribute("href"),t.parentElement.tagName.equalsIgnoreCase("li")&&t.parentElement.attvAttr(o,!1)),i.isActive(t)&&this.displayContent(l,s,d),this.attribute.markElementLoaded(t,!0)}return!0},o.prototype.setItemActive=function(e,t,a,n){var r,i,o=this;n&&n.forEach(function(t){o.setItemActive(e,t,!1)}),e.setActive(t,a),null!==(i=null===(r=t.parentElement)||void 0===r?void 0:r.tagName)&&void 0!==i&&i.equalsIgnoreCase("li")&&e.setActive(t.parentElement,a)},o.prototype.displayContent=function(t,e,a){var n=this.resolver.resolve(v.DataTabContent.UniqueId),r=this.getRaw(e),i=t.parentElement.querySelector("["+n.name+'="'+r+'"]');return i&&(i.parentElement.querySelectorAll(n.toString()).forEach(function(t){return t.attvHide()}),n.getValue(i).loadElement(i)),!1},e=o,t.DefaultValue=e}(Attv=Attv||{}),function(n){var a,t,r,e,i=(a=n.Attribute,__extends(o,a),o.UniqueId="DataTabContent",o);function o(t){var e=a.call(this,o.UniqueId,t)||this;return e.name=t,e}function u(t,e){void 0===e&&(e=[]);var a=r.call(this,void 0,t,e)||this;return a.resolver.uses.push(n.DataContent.UniqueId,n.DataPartial.UniqueId,n.DataActive.UniqueId),a}n.DataTabContent=i,t=n.DataTabContent||(n.DataTabContent={}),r=n.Attribute.Value,__extends(u,r),u.prototype.loadElement=function(t){if(t.attvShow(),!this.attribute.isElementLoaded(t)){var e=this.resolver.resolve(n.DataContent.UniqueId);if(e.exists(t))return t.attvHtml(e.getContent(t)),this.attribute.markElementLoaded(t,!0);var a=this.resolver.resolve(n.DataPartial.UniqueId);if(a.exists(t))return a.renderPartial(t),this.attribute.markElementLoaded(t,!0);n.loadElements(t),this.attribute.markElementLoaded(t,!0)}return!0},e=u,t.DefaultValue=e}(Attv=Attv||{}),function(t){var e;((e=t.DataTab||(t.DataTab={})).DefaultSettings||(e.DefaultSettings={})).getStyle=function(t){return"\n/* Style the tab */\n"+t.attributeValue.attribute+" {\n    overflow: hidden;\n    border: 1px solid #ccc;\n    background-color: #f1f1f1;\n}\n\n/* Style the buttons inside the tab */\n"+t.attributeValue.attribute+" li {\n    background-color: inherit;\n    float: left;\n    border: none;\n    outline: none;\n    padding: 14px 16px;\n    transition: 0.3s;\n    font-size: 17px;\n    list-style: none;\n}\n"+t.attributeValue.attribute+" li {\n    background-color: inherit;\n    float: left;\n    border: none;\n    outline: none;\n    padding: 14px 16px;\n    transition: 0.3s;\n    font-size: 17px;\n    list-style: none;\n}\n\n/* Change background color of buttons on hover */\n"+t.attributeValue.attribute+' li:not([data-enabled="false"]):hover {\n    cursor: pointer;\n}\n\n/* Create an active/current tablink class */\n'+t.attributeValue.attribute+" li[data-active=true] {\n    background-color: #ccc;\n}\n\n/* Style the tab content */\n"+t.attributeValue.attribute+" [data-tab-content]{\n    display: none;\n    padding: 6px 12px;\n    border: 1px solid #ccc;\n    border-top: none;\n}\n\n"+t.attributeValue.attribute+' [data-tab-item][data-enabled="false"] {\n    cursor: default;\n    opacity: 0.5;\n}\n'+t.attributeValue.attribute+' li[data-enabled="false"]:hover,\n'+t.attributeValue.attribute+' [data-tab-item][data-enabled="false"]:hover {\n    background-color: inherit;\n}\n'}}(Attv=Attv||{}),Attv.loader.pre.push(function(){Attv.registerAttribute("data-tab",function(t){return new Attv.DataTab(t)},function(t,e){e.push(new Attv.DataTab.DefaultValue(Attv.configuration.defaultTag,t))}),Attv.registerAttribute("data-tab-item",function(t){return new Attv.DataTabItem(t)},function(t,e){e.push(new Attv.DataTabItem.DefaultValue(t))}),Attv.registerAttribute("data-tab-content",function(t){return new Attv.DataTabContent(t)},function(t,e){e.push(new Attv.DataTabContent.DefaultValue(t))}),Attv.registerAttributeValue(Attv.DataPartial.UniqueId,function(t,e){e.push(new Attv.DataTab.DataPartialTabValue(t))})});
var Attv,__extends=this&&this.__extends||function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)};return function(t,e){function a(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}}();!function(t){var a,e=(a=t.Attribute,__extends(n,a),n.UniqueId="DataTable",n);function n(t){var e=a.call(this,n.UniqueId,t,!0)||this;return e.name=t,e.wildcard="none",e}t.DataTable=e}(Attv=Attv||{}),function(l){var t,r,e;function a(t,e,a){void 0===a&&(a=[new l.Validators.RequiredElement(["table"])]);var n=r.call(this,t,e,a)||this;return n.resolver.uses.push(l.DataTemplate.UniqueId,l.DataPartial.UniqueId),n}t=l.DataTable||(l.DataTable={}),r=l.Attribute.Value,__extends(a,r),a.prototype.loadElement=function(n){var r=this;return!!this.attribute.isElementLoaded(n)||(this.loadSettings(n,function(t){var e=r.resolver.resolve(l.DataTemplate.UniqueId),a=r.resolver.resolve(l.DataPartial.UniqueId);e.getValue(n).loadElement(n),a.getValue(n).loadElement(n),t.pageNumber=100,l.Attribute.Settings.commit(n,t)}),this.attribute.markElementLoaded(n,!0))},e=a,t.DefaultValue=e}(Attv=Attv||{}),function(n){var t,r,e;function a(t,e){void 0===e&&(e=[new n.Validators.RequiredAttribute([n.DataUrl.UniqueId])]);var a=r.call(this,"table",t,e)||this;return a.resolver.uses.push(n.DataTemplateSource.UniqueId,n.DataTimeout.UniqueId,n.DataMethod.UniqueId,n.DataCallback.UniqueId,n.DataTarget.UniqueId,n.DataInterval.UniqueId),a}t=n.DataTable||(n.DataTable={}),r=n.DataPartial.DefaultValue,__extends(a,r),a.prototype.getTargetElement=function(t){var e=(this.resolver.resolve(n.DataTarget.UniqueId).getTargetElement(t)||t).querySelector("tbody");return e||n.log("fatal","Unable to find tbody on the element",e),e},a.prototype.loadElement=function(t){return!!this.attribute.isElementLoaded(t)||(this.render(t),this.attribute.markElementLoaded(t,!0))},e=a,t.DataPartialTableValue=e}(Attv=Attv||{}),function(n){var t,a,e;function r(t,e){return void 0===e&&(e=[new n.Validators.RequiredElement(["table"])]),a.call(this,"table",t,e)||this}t=n.DataTable||(n.DataTable={}),a=n.DataTemplate.DefaultValue,__extends(r,a),r.prototype.loadElement=function(t){var e,a;return this.attribute.isElementLoaded(t)||(a=(e=t.querySelector("tbody")).attvHtml(),this.resolver.addAttribute(n.DataTemplateHtml.UniqueId,t,a),e.attvHtml(""),this.attribute.markElementLoaded(t,!0)),!0},e=r,t.DataTemplateTableValue=e}(Attv=Attv||{}),function(t){var e;((e=t.DataTable||(t.DataTable={})).TableSettings||(e.TableSettings={})).getStyle=function(t){return"\n/* Style the table */\n[data-table]\n"}}(Attv=Attv||{}),Attv.loader.pre.push(function(){Attv.registerAttribute("data-table",function(t){return new Attv.DataTable(t)},function(t,e){e.push(new Attv.DataTable.DefaultValue(Attv.configuration.defaultTag,t))}),Attv.registerAttributeValue(Attv.DataTemplate.UniqueId,function(t,e){e.push(new Attv.DataTable.DataTemplateTableValue(t))}),Attv.registerAttributeValue(Attv.DataPartial.UniqueId,function(t,e){e.push(new Attv.DataTable.DataPartialTableValue(t))})});
var Attv,__extends=this&&this.__extends||function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)};return function(t,e){function a(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}}();!function(a){var n,t=(n=a.Attribute,__extends(o,n),o.prototype.show=function(t){return this.getValue(t).show(t)},o.UniqueId="DataDialog",o);function o(t){var e=n.call(this,o.UniqueId,t,!0)||this;return e.wildcard="none",e.dependency.uses.push(a.DataContent.UniqueId,a.DataUrl.UniqueId,a.DataModal.UniqueId,a.DataTitle.UniqueId,a.DataPartial.UniqueId),e.dependency.internals.push(a.DataCallback.UniqueId),e}a.DataDialog=t}(Attv=Attv||{}),function(r){!function(o){var n,t=(n=r.Attribute.Value,__extends(e,n),e.prototype.loadElement=function(e){var a=this;return e.attvAttr("onclick")&&this.resolver.addAttribute(r.DataCallback.UniqueId,e,e.attvAttr("onclick")),e.onclick=function(t){return a.show(e),!1},!0},e.prototype.show=function(t){var a,n=this;t instanceof HTMLElement?(a=t,this.loadSettings(a,function(t){var e;t.isModal=t.isModal||n.resolver.resolve(r.DataModal.UniqueId).isModal(a),t.title=t.title||n.resolver.resolve(r.DataTitle.UniqueId).getTitle(a),t.content=t.content||n.resolver.resolve(r.DataContent.UniqueId).getContent(a),t.content||(e=n.resolver.resolve(r.DataPartial.UniqueId)).exists(a)&&(t.callback=function(t){e.getValue(a).render(a,void 0,{targetElement:t})}),t.titleSelector=t.titleSelector||o.DialogSettings.DefaultTitleSelector,t.contentSelector=t.contentSelector||o.DialogSettings.DefaultContentSelector,t.templateHtml=t.templateHtml||o.DialogSettings.DefaultTemplateHtml,t.style=o.DialogSettings.getStyle(t),n.showDialog(t)})):this.showDialog(t)},e.prototype.showDialog=function(t){var e=r.createHTMLElement(t.templateHtml).querySelector("dialog");return document.body.append(e),t.title&&e.querySelector(t.titleSelector).attvHtml(t.title),t.content&&e.querySelector(t.contentSelector).attvHtml(t.content),t.isModal?e.showModal():e.attvShow(),t.callback&&t.callback(e.querySelector(t.contentSelector)),e},e);function e(t,e,a){return void 0===a&&(a=[new r.Validators.RequiredElement(["a","button"])]),n.call(this,t,e,a)||this}o.DefaultValue=t;var a,l=(a=r.DataPartial.DefaultValue,__extends(i,a),i.prototype.doRender=function(t,e,a){var n=this.resolver.resolve(r.DataTemplateSource.UniqueId).renderTemplate(t,e),o=this.resolver.resolve(r.DataTarget.UniqueId).getTargetElement(t)||(null===a||void 0===a?void 0:a.targetElement);o.attvHtml(n),r.loadElements(o)},i);function i(t){return a.call(this,"dialog",t)||this}o.DataPartialDialogValue=l}(r.DataDialog||(r.DataDialog={}))}(Attv=Attv||{}),function(t){var e,a;e=t.DataDialog||(t.DataDialog={}),(a=e.DialogSettings||(e.DialogSettings={})).DefaultTitleSelector="h3.attv-dialog-header-title",a.DefaultContentSelector=".attv-dialog-body-content",a.DefaultTemplateHtml='\n<dialog class="attv-dialog">\n    <div class="attv-dialog-header">\n        <div class="attv-dialog-header-content">\n            <h3 class="attv-dialog-header-title"></h3>\n        </div>\n    </div>\n    <div class="attv-dialog-body">\n        <div class="attv-dialog-body-content"></div>\n    </div>\n    <div class="attv-dialog-footer">\n        <div class="attv-dialog-footer-content"></div>\n    </div>\n</dialog>',a.getStyle=function(t){return"\ndialog.attv-dialog {\n    border: 1px solid gray;\n    min-width: 250px;\n}\ndialog.attv-dialog h3.attv-dialog-header-title {\n    margin-top: 8px;\n}\ndialog.attv-dialog .attv-dialog-body {\n    margin-bottom: 8px;\n}\n"}}(Attv=Attv||{}),function(t){var a,e=(a=t.Attribute,__extends(n,a),n.prototype.isModal=function(t){var e=this.getValue(t).getRaw(t);return null==e?void 0:e.equalsIgnoreCase("true")},n.UniqueId="DataModal",n);function n(t){var e=a.call(this,n.UniqueId,t,!1)||this;return e.wildcard="<boolean>",e}t.DataModal=e}(Attv=Attv||{}),Attv.loader.pre.push(function(){Attv.registerAttribute("data-dialog",function(t){return new Attv.DataDialog(t)},function(t,e){e.push(new Attv.DataDialog.DefaultValue(Attv.configuration.defaultTag,t)),e.push(new Attv.DataDialog.DefaultValue("click",t))}),Attv.registerAttribute("data-modal",function(t){return new Attv.DataModal(t)}),Attv.registerAttributeValue(Attv.DataPartial.UniqueId,function(t,e){e.push(new Attv.DataDialog.DataPartialDialogValue(t))})});
//# sourceMappingURL=attributive.xtra.0.0.1.min.js.map
