var Attv,__extends=this&&this.__extends||function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)};return function(t,e){function a(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}}();!function(r){var a,t=(a=r.Attribute,__extends(n,a),n.prototype.renderPartial=function(t,e){r.isString(t)&&(t=document.querySelector(t));var a=t;this.getValue(a).render(a,e)},n.UniqueId="DataPartial",n);function n(t){var e=a.call(this,n.UniqueId,t,!0)||this;return e.name=t,e.isStrict=!0,e.dependency.requires.push(r.DataUrl.UniqueId),e}r.DataPartial=t}(Attv=Attv||{}),function(p){!function(t){var i,e=(i=p.Attribute.Value,__extends(a,i),a.prototype.render=function(r,n,i){var o=this;n?this.doRender(r,n,i):((i=i||{}).url=this.resolver.resolve(p.DataUrl.UniqueId).getUrl(r),i.method=this.resolver.resolve(p.DataMethod.UniqueId).getMethod(r),i._internalCallback=function(t,e,a){n=a.response,o.doRender(r,n,i),o.resolver.resolve(p.DataCallback.UniqueId).callback(r)},this.sendAjax(r,i))},a.prototype.doRender=function(t,e,a){var r=this.getTemplate(t,e),n=this.getTargetElement(t);n.html(r),p.loadElements(n)},a.prototype.getTemplate=function(t,e){return this.resolver.resolve(p.DataTemplateSource.UniqueId).renderTemplate(t,e)},a.prototype.getTargetElement=function(t){return this.resolver.resolve(p.DataTarget.UniqueId).getTargetElement(t)||t},a.prototype.sendAjax=function(t,e){var a=this;this.resolver.resolve(p.DataTimeout.UniqueId).timeout(t,function(){a.resolver.resolve(p.DataInterval.UniqueId).interval(t,function(){p.Ajax.sendAjax(e)})})},a);function a(t,e,a,r){void 0===r&&(r=[new p.Validators.RequiredAttributeValidator([p.DataUrl.UniqueId])]);var n=i.call(this,t,e,a,r)||this;return n.resolver.uses.push(p.DataTemplateSource.UniqueId,p.DataTimeout.UniqueId,p.DataMethod.UniqueId,p.DataCallback.UniqueId,p.DataTarget.UniqueId,p.DataInterval.UniqueId),n}t.DefaultValue=e;var r,n=(__extends(o,r=e),o.prototype.loadElement=function(t){return this.render(t),!0},o);function o(t){return r.call(this,"auto",t)||this}t.AutoValue=n;var u,l=(__extends(s,u=e),s.prototype.loadElement=function(e){var a=this;return e.onclick=function(t){return a.render(e),!1},!0},s);function s(t){return u.call(this,"click",t,void 0,[new p.Validators.RequiredAttributeValidator([p.DataUrl.UniqueId]),new p.Validators.RequiredAnyElementsValidator(["button","a"])])||this}t.ClickValue=l;var d,c=(__extends(v,d=e),v.prototype.loadElement=function(t){var e=this,a=t;return a.onsubmit=function(t){return e.render(a),!1},!0},v);function v(t){return d.call(this,"form",t,void 0,[new p.Validators.RequiredAttributeValidator([p.DataUrl.UniqueId]),new p.Validators.RequiredElementValidator(["form"])])||this}t.FormValue=c}(p.DataPartial||(p.DataPartial={}))}(Attv=Attv||{}),Attv.loader.pre.push(function(){Attv.registerAttribute("data-partial",function(t){return new Attv.DataPartial(t)},function(t,e){e.push(new Attv.DataPartial.DefaultValue(Attv.configuration.defaultTag,t)),e.push(new Attv.DataPartial.DefaultValue("lazy",t)),e.push(new Attv.DataPartial.AutoValue(t)),e.push(new Attv.DataPartial.ClickValue(t)),e.push(new Attv.DataPartial.FormValue(t))})});