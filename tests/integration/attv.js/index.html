<html>
<head>
	<title>Test Usage</title>
</head>
<body>
	<div data-hello="default">
        <!-- Hello World here-->
    </div>
	<div data-hello="es6">
        <!-- Hello World here-->
    </div>
	<div data-hello="es5">
        <!-- Hello World here-->
    </div>
	<div data-hello="invalid">
        <!-- Hello World here-->
    </div>

	<div id="test-div" data-custom="defaultx" data-settings="{}">
        <!-- Hello World here-->
    </div>
	<div id="test-div" data-custom="anything" data-settings="{}">
        <!-- Hello World here-->
    </div>
    
    <script type="text/javascript" src="/build/attv.js"></script>
    <script type="text/javascript" defer>

Attv.register('data-hello', { isAutoLoad: true, wildcard: 'none' }, function (att) {

    att.map('default', function (value, element) {
        element.innerHTML = 'hello. this is from default ' + this.toString();
    });

    // -- using ES6 class

    class Es6Class extends Attv.Attribute.Value {
        constructor() {
            super("es6");
        }

        load = function (element) {
            element.innerHTML = 'hello. Es6Class. from attribute ' + this.toString();
        }
    }

    att.map(att => new Es6Class());


    // -- using ES5 class

    function Es5Class() {
        Attv.Attribute.Value.call(this, 'es5');

        return this;
    }
    Es5Class.prototype = Object.create(Attv.Attribute.Value.prototype);
    Es5Class.prototype.load = function (element) {
        element.innerHTML = 'hello. Es5Class. from attribute ' + this.toString();
        return true;
    };

    att.map(att => new Es5Class());

});

window.setTimeout(() => {
    Attv.register('data-key-here', { isAutoLoad: true, attributeName: 'data-custom' }, function (att) {

        att.map('default', function (value, element) {
            element.innerHTML = 'This is a lazy load from ' + this.toString();
        });
    });

    Attv.Registrar.run();
}, 2000);
    </script>
</body>
</html>